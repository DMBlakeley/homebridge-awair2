{
  "pluginAlias": "Awair2",
  "pluginType": "platform",
  "singular": true,
  "headerDisplay": "Awair plug-in for [Homebridge](https://github.com/nfarina/homebridge) using the native Awair API.",
  "footerDisplay": "Reference [Installation Instructions](https://github.com/DMBlakeley/homebridge-awair2#readme) for details on determining 'Developer Token'.",
  "schema": {
    "type": "object",
    "properties": {
      "token": {
        "title": "Developer Token (REQUIRED)",
        "type": "string",
        "placeholder": "AAA.AAA.AAA",
        "required": true,
        "description": "Reference Installation Instructions - link provided in footer."
      },
      "userType": {
        "title": "The type of user account",
        "type": "string",
        "placeholder": "users/self",
        "description": "The type of user account. Default = 'users/self', Options: 'users/self' or 'orgs/###', where ### is the Awair Organization 'orgId'."
      },
      "airQualityMethod": {
        "title": "Air quality calculation method",
        "type": "string",
        "placeholder": "awair-score",
        "enum": ["awair-score", "awair-aqi"],
        "description": "Air quality calculation method used to define the Air Quality Chracteristic. Default = 'awair-aqi', Options: 'awair-score' and 'awair-aqi'."
      },
      "endpoint": {
        "title": "The 'air-data' endpoint",
        "type": "string",
        "placeholder": "15-min-avg",
        "enum": ["15-min-avg", "5-min-avg", "raw", "latest"],
        "description": "The 'air-data' endpoint to use. Default = '15-min-avg', Options: '15-min-avg', '5-min-avg', 'raw', or 'latest'."
      },
      "limit": {
        "title": "Data Points Returned",
        "type": "integer",
        "placeholder": 1,
        "description": "Number of consecutive data points returned per request. For example, used for custom averaging of sensor values from 'raw' endpoint (OPTIONAL, default = '1' i.e. one '15-min-avg')."
      },
      "carbonDioxideThreshold": {
        "title": "Carbon Dioxide Threshold",
        "type": "integer",
        "placeholder": 0,
        "description": "The CO2 level at which HomeKit will turn ON the trigger alert for the CO2 in ppm. Default = '0'."
      },
      "carbonDioxideThresholdOff": {
        "title": "Carbon Dioxide Threshold Off",
        "type": "integer",
        "placeholder": 0,
        "description": "The CO2 level at which HomeKit will turn OFF the trigger alert for the CO2 in ppm, to ensure that it doesn't trigger on/off too frequently choose a number lower than 'carbonDioxideThreshold'. Default = 0."
      },
      "vocMw": {
				"title": "Reference Gas Molecular Weight",
				"type": "number",
				"placeholder": 72.66578273019740,
				"description": "The Molecular Weight (g/mol) of a reference gas or mixture that you use to convert from ppb to ug/m^3."
			},
      "occupancyDetection": {
        "title": "Omni - Whether to enable Occupancy detection based on minimum sound level.",
        "type": "boolean",
        "default": false,
				"description": "Omni only - enables occupancy detection based on minimum sound level + occupancyOffset value."
      },
      "occupancyOffset": {
				"title": "Omni - used when occupancyDetection enabled.",
				"type": "number",
				"placeholder": 2,
				"description": "Omni only - Used when `occupancy detection` enabled. Offset value in dBA above background sound level to set `not occupied` level, `occupied` is 0.5dBA higher."
			},
      "occupancyRestart": {
        "title": "Omni - restart Occupancy detection measurement on next Homebridge reboot.",
        "type": "boolean",
        "default": false,
				"description": "Omni only - reinitialize Occupancy detection measurement on Homebridge reboot."
      },
      "logging": {
        "title": "Whether to output logs to the Homebridge logs.",
        "type": "boolean",
        "default": false
      },
      "verbose": {
        "title": "Whether to include API data call results when logging is enabled.",
        "type": "boolean",
        "default": false
      },
      "development": {
        "title": "Enables Development mode to allow use of 'test' Awair devices lacking production/Awair OUI formatted Serial numbers.",
        "type": "boolean",
        "default": false
      },
      "ignoredDevices": {
        "title": "Ignored Devices",
        "description": "Awair account devices you wish to hide in Homekit.",
        "type": "array",
        "maxItems": 0,
        "items": {
          "title": "macAddress from back or bottom of Awair device:",
          "type": "string",
          "minLength": 12,
          "maxLength": 12,
          "placeholder": "70886Bxxxxxx (Example)"
        }
      }
    }
  },
  "layout": [
    {
      "type": "flex",
      "flex-flow": "row wrap",
      "items": ["token"]
    },
    {
      "type": "fieldset",
      "title": "Optional Configuration Settings",
      "expandable": true,
      "expanded": false,
      "items": [
        "userType",
        "airQualityMethod",
        "endpoint",
        "limit",
        "carbonDioxideThreshold",
        "carbonDioxideThresholdOff",
        "vocMw",
        "occupancyDetection",
        "occupancyOffset",
        "occupancyRestart",
        "logging",
        "verbose",
        "development"
      ]
    },
    {
      "type": "array",
      "title": "Ignored Devices",
      "expandable": true,
      "expanded": false,
      "items": [
        "ignoredDevices[]"
      ]
    }
  ]
}
